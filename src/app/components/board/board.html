<!-- Linha fixa abaixo da navbar -->
<app-linha-sticky [abrirModalCallback]="abrirModalCallback"></app-linha-sticky>

<!-- BotÃµes flutuantes para mobile -->
<button
  *ngIf="isMobile"
  class="btn btn-light position-fixed top-50 start-0 translate-middle-y z-3 btn-coluna"
  style="border-radius: 0 50% 50% 0; height: 40px; width: 40px;"
  (click)="voltarColuna()"
>
  &lt;
</button>

<button
  *ngIf="isMobile"
  class="btn btn-light position-fixed top-50 end-0 translate-middle-y z-3 btn-coluna"
  style="border-radius: 50% 0 0 50%; height: 40px; width: 40px;"
  (click)="avancarColuna()"
>
  &gt;
</button>

<!-- ConteÃºdo principal com scroll horizontal se necessÃ¡rio -->
<div class="conteudo-scroll">
  <div
    *ngFor="let coluna of colunas; let i = index"
    class="coluna-wrapper"
    [class.d-none]="isMobile && i !== colunaVisivel"
    [style.flex]="!isMobile ? '1 1 0' : 'none'"
    [style.width]="!isMobile ? 'auto' : '100vw'"
  >
    <app-column
      [title]="coluna.titulo"
      [cards]="coluna.cards"
      [index]="i"
      [connectedTo]="connectedColumnIds"
      (cardMoved)="onCardMovido($event)"
      (cardClicked)="abrirHistorico($event)"
    ></app-column>
  </div>
</div>

<!-- Modal para exibir e editar histÃ³rico -->
<app-historico-modal
  [card]="cardSelecionado"
  [visible]="historicoModalAberto"
  (fechar)="fecharHistorico()"
  (salvar)="salvarHistorico($event)"
></app-historico-modal>
